<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, 
      maximum-scale=1, minimum-scale=1, width=device-width, 
      height=device-height, target-densitydpi=device-dpi" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <title>IP QR Code</title>
  </head>
  <body>
    <!-- keep track of device ready state -->
    <div id="deviceready" style="display: none;" value="0"> </div>
    
    <button id="register_button" onclick="server.register();"> 
      Register
    </button>
    <br /><br /><br />

    <button id="scan_button" onclick="registerNeighbor();"> 
      Register a Neighbor 
    </button>
    <br /><br /><br />

    <button id="show_ip_button" onclick="IPUtil.showIP();"> 
      Display My IP 
    </button>
    <br /><br /><br />

    <button id="hide_button" onclick="IPUtil.hideIP();"> 
      Hide My IP 
    </button>
    <br /><br /><br />

    <p id="ip" style="display: none;">Finding Device IP...</p> <br />

    <div id="ip_qr" style="diplay: none;"></div>

    <!-- code to handle registering neighbors -->
    <script type="text/javascript">
      function registerNeighbor(){
        var success = function(result){
          if(!result.cancelled)
            server.addNeighbor(result.text);
        };

        var fail = function(error){
          alert("Scanning failed: " + error);
        };

        cordova.plugins.barcodeScanner.scan(success, fail);
      }
    </script>

    <!-- phonegap -->
    <script type="text/javascript" src="phonegap.js"></script>
    <script type="text/javascript" src="js/index.js"></script>

    <!-- jQuery -->
    <script type="text/javascript" src="js/jquery-2.0.3.min.js"></script>

    <!-- handle display user's IP information -->
    <script type="text/javascript" src="js/ip-util.js"></script>
    <script type="text/javascript" src="js/qr-generator/qrcode.min.js"></script>

    <!-- handle communication with the server -->
    <script type="text/javascript" src="js/server-interface.js"></script>

    <!-- initialize app -->
    <script type="text/javascript">
      app.initialize();
    </script>
  </body>
</html>
